<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡¶∏‡¶π‡¶ú ‡¶á‡¶®‡¶ï‡¶æ‡¶Æ - ‡¶π‡ßã‡¶Æ</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <style>
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: white;
            box-shadow: 0 -2px 10px rgba(0,0,0,0.1);
        }
        body {
            padding-bottom: 70px;
        }
        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* Banner Animations */
        @keyframes slideInUp {
            from {
                opacity: 0;
                transform: translateY(30px) scale(0.95);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }
        
        @keyframes pulse {
            0% { transform: scale(1); box-shadow: 0 0 20px rgba(255, 100, 100, 0.5); }
            50% { transform: scale(1.02); box-shadow: 0 0 30px rgba(255, 100, 100, 0.8); }
            100% { transform: scale(1); box-shadow: 0 0 20px rgba(255, 100, 100, 0.5); }
        }
        
        /* Modal transition */
        .modal-enter {
            animation: modalEnter 0.3s ease-out;
        }
        
        @keyframes modalEnter {
            from {
                opacity: 0;
                transform: scale(0.9);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }
    </style>
</head>
<body class="bg-gray-50">
    <!-- Loading Overlay -->
    <div id="loadingOverlay" class="fixed inset-0 bg-white z-50 flex items-center justify-center">
        <div class="text-center">
            <div class="w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"></div>
            <p class="text-gray-600">‡¶≤‡ßã‡¶° ‡¶π‡¶ö‡ßç‡¶õ‡ßá...</p>
        </div>
    </div>

    <!-- Promotional Offer Banner (Centered with smaller width) -->
    <div id="promoBanner" class="fixed inset-0 bg-black/70 z-50 flex items-center justify-center p-4" style="display: none;">
        <div class="w-full max-w-sm mx-auto">
            <!-- Close Button (Top Right) -->
            <button onclick="closePromoBanner()" 
                    class="absolute top-6 right-4 text-white/80 hover:text-white text-2xl z-10">
                <i class="fas fa-times"></i>
            </button>
            
            <!-- Banner Card -->
            <div class="bg-gradient-to-br from-red-600 via-orange-500 to-yellow-500 rounded-2xl p-5 text-white shadow-2xl overflow-hidden relative">
                <!-- Shine Effect -->
                <div class="absolute top-0 left-0 w-full h-1 bg-white/30"></div>
                
                <!-- Content -->
                <div class="relative">
                    <!-- Icon & Title -->
                    <div class="text-center mb-4">
                        <div class="w-16 h-16 bg-white/20 rounded-full flex items-center justify-center mx-auto mb-3 border-3 border-white/30">
                            <i class="fas fa-gift text-2xl"></i>
                        </div>
                        <h2 class="text-2xl font-bold mb-1">üí∞ ‡¶°‡¶æ‡¶¨‡¶≤ ‡¶ü‡¶æ‡¶ï‡¶æ!</h2>
                        <p class="text-white/90 text-sm">‡¶¨‡¶ø‡¶∂‡ßá‡¶∑ ‡¶∞‡ßá‡¶´‡¶æ‡¶∞ ‡¶Ö‡¶´‡¶æ‡¶∞</p>
                    </div>
                    
                    <!-- Offer Details -->
                    <div class="bg-white/15 backdrop-blur-sm rounded-xl p-3 mb-4 border border-white/20">
                        <h3 class="font-bold text-lg mb-2 text-center">‡ß®√ó ‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶Ö‡¶´‡¶æ‡¶∞</h3>
                        <ul class="space-y-1 text-xs">
                            <li class="flex items-center">
                                <i class="fas fa-check-circle text-green-300 mr-2"></i>
                                <span><strong>‡ß®‡ß¶‡ß¶ ‡¶∞‡ßá‡¶´‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®</strong></span>
                            </li>
                            <li class="flex items-center">
                                <i class="fas fa-check-circle text-green-300 mr-2"></i>
                                <span>‡¶â‡¶á‡¶•‡¶°‡ßç‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶® ‡¶Ø‡ßá‡¶ï‡ßã‡¶®‡ßã ‡¶™‡¶∞‡¶ø‡¶Æ‡¶æ‡¶£</span>
                            </li>
                            <li class="flex items-center">
                                <i class="fas fa-check-circle text-green-300 mr-2"></i>
                                <span>‡¶™‡¶æ‡¶¨‡ßá‡¶® ‡¶°‡¶æ‡¶¨‡¶≤ ‡¶ü‡¶æ‡¶ï‡¶æ!</span>
                            </li>
                        </ul>
                        
                        <!-- Example -->
                        <div class="mt-3 p-2 bg-white/10 rounded-lg">
                            <p class="text-center font-bold text-sm">üìä ‡¶â‡¶¶‡¶æ‡¶π‡¶∞‡¶£</p>
                            <p class="text-center text-xs">‡ß´‡ß¶‡ß¶ ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶â‡¶á‡¶•‡¶°‡ßç‡¶∞ = ‡ßß‡ß¶‡ß¶‡ß¶ ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶™‡¶æ‡¶¨‡ßá‡¶®</p>
                            <p class="text-center text-xs mt-1">‡ßß‡ß¶‡ß¶‡ß¶ ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶â‡¶á‡¶•‡¶°‡ßç‡¶∞ = ‡ß®‡ß¶‡ß¶‡ß¶ ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶™‡¶æ‡¶¨‡ßá‡¶®</p>
                        </div>
                    </div>
                    
                    <!-- Timer -->
                    <div class="text-center mb-4">
                        <div class="text-xs opacity-90 mb-1">‚è∞ ‡¶Ö‡¶´‡¶æ‡¶∞ ‡¶∂‡ßá‡¶∑ ‡¶π‡¶§‡ßá ‡¶¨‡¶æ‡¶ï‡¶ø:</div>
                        <div class="text-xl font-mono font-bold bg-black/30 py-1 px-3 rounded-lg inline-block" id="promoTimer">
                            15 ‡¶¶‡¶ø‡¶® 00:00:00
                        </div>
                        <p class="text-xs mt-1 opacity-80"><strong>‡ß®‡ß¶ ‡¶°‡¶ø‡¶∏‡ßá‡¶Æ‡ßç‡¶¨‡¶∞</strong> ‡¶™‡¶∞‡ßç‡¶Ø‡¶®‡ßç‡¶§</p>
                    </div>
                    
                    <!-- Action Buttons -->
                    <div class="grid grid-cols-1 gap-2">
                        <button onclick="goToReferralSection()" 
                                class="bg-white text-red-600 py-3 rounded-lg font-bold hover:bg-gray-100 active:scale-95 transition-all duration-200 shadow-lg">
                            <i class="fas fa-rocket mr-2"></i>
                            ‡¶è‡¶ñ‡¶®‡¶á ‡¶∂‡ßÅ‡¶∞‡ßÅ ‡¶ï‡¶∞‡ßÅ‡¶®
                        </button>
                        
                        <button onclick="closePromoBanner()" 
                                class="bg-white/20 text-white py-2 rounded-lg font-semibold hover:bg-white/30 transition-colors text-sm">
                            ‡¶™‡¶∞‡ßá ‡¶¶‡ßá‡¶ñ‡¶¨
                        </button>
                    </div>
                    
                    <!-- Note -->
                    <p class="text-center text-xs opacity-70 mt-3">
                        <i class="fas fa-info-circle mr-1"></i>
                        ‡¶è‡¶á ‡¶Ö‡¶´‡¶æ‡¶∞ ‡¶∂‡ßÅ‡¶ß‡ßÅ‡¶Æ‡¶æ‡¶§‡ßç‡¶∞ <strong>‡ß®‡ß¶ ‡¶°‡¶ø‡¶∏‡ßá‡¶Æ‡ßç‡¶¨‡¶∞</strong> ‡¶™‡¶∞‡ßç‡¶Ø‡¶®‡ßç‡¶§
                    </p>
                </div>
            </div>
            
            <!-- Hint Text -->
            <div class="text-center mt-3">
                <p class="text-white/60 text-xs">
                    <i class="fas fa-arrow-down mr-1"></i>
                    Offer ‡¶¶‡ßá‡¶ñ‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶â‡¶™‡¶∞‡ßá‡¶∞ ‡¶¨‡¶æ‡¶ü‡¶®‡ßá ‡¶ï‡ßç‡¶≤‡¶ø‡¶ï ‡¶ï‡¶∞‡ßÅ‡¶®
                </p>
            </div>
        </div>
    </div>

    <!-- Main App Content -->
    <div class="container mx-auto px-4 py-4 fade-in">
        <!-- ‡¶π‡ßá‡¶°‡¶æ‡¶∞ -->
        <div class="bg-gradient-to-r from-blue-600 to-purple-600 rounded-2xl p-4 text-white mb-4">
            <div class="flex items-center space-x-3 mb-3">
                <div class="w-12 h-12 bg-white/20 rounded-full flex items-center justify-center">
                    <i class="fas fa-user text-xl"></i>
                </div>
                <div>
                    <h2 class="font-bold text-lg" id="userName">‡¶≤‡ßã‡¶° ‡¶π‡¶ö‡ßç‡¶õ‡ßá...</h2>
                    <p class="text-white/80 text-sm">‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶™‡ßç‡¶∞‡ßã‡¶´‡¶æ‡¶á‡¶≤</p>
                </div>
            </div>
            
            <div class="bg-white/10 rounded-xl p-3">
                <p class="text-sm">‡¶Æ‡ßá‡¶á‡¶® ‡¶¨‡ßç‡¶Ø‡¶æ‡¶≤‡ßá‡¶®‡ßç‡¶∏</p>
                <h1 class="text-2xl font-bold" id="mainBalance">‡ß¶.‡ß¶‡ß¶ ‡¶ü‡¶æ‡¶ï‡¶æ</h1>
            </div>
        </div>

        <!-- ‡¶Ü‡¶ú‡¶ï‡ßá‡¶∞ ‡¶∏‡ßç‡¶ü‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∏ -->
        <div class="grid grid-cols-2 gap-3 mb-4">
            <div class="bg-white rounded-xl p-3 shadow-sm">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-gray-500 text-sm">‡¶Ü‡¶ú‡¶ï‡ßá‡¶∞ ‡¶è‡¶°‡¶∏</p>
                        <h3 class="font-bold text-lg" id="todayAds">‡ß¶/‡ßß‡ß¶</h3>
                    </div>
                    <i class="fas fa-eye text-blue-500"></i>
                </div>
            </div>
            
            <div class="bg-white rounded-xl p-3 shadow-sm">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-gray-500 text-sm">‡¶Æ‡ßã‡¶ü ‡¶∞‡ßá‡¶´‡¶æ‡¶∞‡ßá‡¶≤</p>
                        <h3 class="font-bold text-lg" id="totalReferrals">‡ß¶</h3>
                    </div>
                    <i class="fas fa-users text-green-500"></i>
                </div>
            </div>
            
            <div class="bg-white rounded-xl p-3 shadow-sm">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-gray-500 text-sm">‡¶Æ‡ßã‡¶ü ‡¶è‡¶°‡¶∏</p>
                        <h3 class="font-bold text-lg" id="totalAds">‡ß¶</h3>
                    </div>
                    <i class="fas fa-chart-line text-purple-500"></i>
                </div>
            </div>
            
            <div class="bg-white rounded-xl p-3 shadow-sm">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-gray-500 text-sm">‡¶Æ‡ßã‡¶ü ‡¶á‡¶®‡¶ï‡¶æ‡¶Æ</p>
                        <h3 class="font-bold text-lg" id="totalIncome">‡ß¶.‡ß¶‡ß¶ ‡¶ü‡¶æ‡¶ï‡¶æ</h3>
                    </div>
                    <i class="fas fa-wallet text-yellow-500"></i>
                </div>
            </div>
        </div>

        <!-- ‡¶¶‡ßç‡¶∞‡ßÅ‡¶§ ‡¶è‡¶ï‡¶∂‡¶® -->
        <div class="bg-white rounded-xl p-4 shadow-sm mb-4">
            <h3 class="font-bold text-lg mb-3">‡¶¶‡ßç‡¶∞‡ßÅ‡¶§ ‡¶è‡¶ï‡¶∂‡¶®</h3>
            <div class="grid grid-cols-2 gap-3">
                <a href="tasks.html" class="bg-blue-50 border border-blue-200 rounded-lg p-3 text-center hover:bg-blue-100 transition-colors">
                    <i class="fas fa-tasks text-blue-500 text-xl mb-1"></i>
                    <p class="font-semibold text-blue-700">‡¶ü‡¶æ‡¶∏‡ßç‡¶ï ‡¶ï‡¶∞‡ßÅ‡¶®</p>
                </a>
                <a href="support.html" class="bg-green-50 border border-green-200 rounded-lg p-3 text-center hover:bg-green-100 transition-colors">
                    <i class="fas fa-hand-holding-usd text-green-500 text-xl mb-1"></i>
                    <p class="font-semibold text-green-700">‡¶â‡¶á‡¶•‡¶°‡ßç‡¶∞</p>
                </a>
            </div>
            
            <div class="border rounded-xl p-3 mt-3" id="videoTask">
                <div class="flex items-center justify-between mb-2">
                    <div>
                        <h4 class="font-semibold">‡¶ï‡¶æ‡¶ú‡ßá‡¶∞ ‡¶≠‡¶ø‡¶°‡¶ø‡¶ì ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®</h4>
                        <p class="text-gray-600 text-sm">‡¶ï‡¶æ‡¶ú‡ßá‡¶∞ ‡¶®‡¶ø‡ßü‡¶Æ ‡¶∂‡¶ø‡¶ñ‡ßÅ‡¶®</p>
                    </div>
                    <i class="fas fa-video text-purple-500 text-xl"></i>
                </div>
                <button onclick="watchVideo()" id="videoBtn" class="w-full bg-blue-500 text-white py-2 rounded-lg font-semibold hover:bg-blue-600 transition-colors">
                    ‡¶ï‡¶æ‡¶ú‡ßá‡¶∞ ‡¶≠‡¶ø‡¶°‡¶ø‡¶ì ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®
                </button>
            </div>
            
            <div class="border rounded-xl p-3 mt-3">
                <div class="flex items-center justify-between mb-2">
                    <div>
                        <h4 class="font-semibold">‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶™‡ßç‡¶∞‡ßÅ‡¶´ ‡¶ö‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶≤</h4>
                        <p class="text-gray-600 text-sm">‡¶Ü‡¶Æ‡¶æ‡¶¶‡ßá‡¶∞ ‡¶ü‡ßá‡¶≤‡¶ø‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ ‡¶™‡ßç‡¶∞‡ßÅ‡¶´ ‡¶ö‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶≤</p>
                    </div>
                    <i class="fas fa-paper-plane text-blue-500 text-xl"></i>
                </div>
                <a href="https://t.me/sohojincome629" target="_blank"
                   class="w-full block bg-green-500 text-white text-center py-2 rounded-lg font-semibold hover:bg-green-600 transition-colors">
                    ‡¶ö‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶≤‡¶ü‡¶ø ‡¶≠‡¶ø‡¶ú‡¶ø‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®
                </a>
            </div>
        </div>

        <!-- ‡¶∞‡ßá‡¶´‡¶æ‡¶∞‡ßá‡¶≤ ‡¶∏‡ßá‡¶ï‡¶∂‡¶® -->
        <div class="bg-gradient-to-r from-green-500 to-emerald-600 rounded-xl p-4 text-white" id="referral-section">
            <h3 class="font-bold text-lg mb-2">‡¶¨‡¶®‡ßç‡¶ß‡ßÅ‡¶ï‡ßá ‡¶∞‡ßá‡¶´‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®</h3>
            <p class="text-white/90 text-sm mb-3">‡¶™‡ßç‡¶∞‡¶§‡¶ø ‡¶∞‡ßá‡¶´‡¶æ‡¶∞‡ßá‡¶≤‡ßá ‡¶™‡¶æ‡¶¨‡ßá‡¶® ‡ßß‡ß¶‡ß¶ ‡¶ü‡¶æ‡¶ï‡¶æ</p>
            
            <div class="bg-white/10 rounded-lg p-3 mb-3">
                <p class="text-xs mb-1">‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶∞‡ßá‡¶´‡¶æ‡¶∞‡ßá‡¶≤ ‡¶≤‡¶ø‡¶ô‡ßç‡¶ï</p>
                <div class="flex items-center justify-between">
                    <code class="text-sm font-mono break-all" id="referralLink">‡¶≤‡ßã‡¶° ‡¶π‡¶ö‡ßç‡¶õ‡ßá...</code>
                    <button onclick="copyReferralLink()" class="bg-white text-green-600 px-3 py-1 rounded text-sm font-semibold ml-2 whitespace-nowrap hover:bg-gray-100 transition-colors">
                        ‡¶ï‡¶™‡¶ø
                    </button>
                </div>
            </div>
            
            <div class="bg-white/10 rounded-lg p-3">
                <p class="text-sm">‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶Æ‡ßã‡¶ü ‡¶∞‡ßá‡¶´‡¶æ‡¶∞‡ßá‡¶≤: <span class="font-bold" id="totalReferrals2">‡ß¶</span> ‡¶ú‡¶®</p>
            </div>
        </div>
    </div>

    <!-- ‡¶¨‡¶ü‡¶Æ ‡¶®‡ßá‡¶≠‡¶ø‡¶ó‡ßá‡¶∂‡¶® -->
    <div class="bottom-nav">
        <div class="grid grid-cols-4 gap-1 p-2">
            <a href="index.html" class="flex flex-col items-center p-2 text-blue-600">
                <i class="fas fa-home mb-1"></i>
                <span class="text-xs">‡¶π‡ßã‡¶Æ</span>
            </a>
            <a href="tasks.html" class="flex flex-col items-center p-2 text-gray-500">
                <i class="fas fa-tasks mb-1"></i>
                <span class="text-xs">‡¶ü‡¶æ‡¶∏‡ßç‡¶ï</span>
            </a>
            <a href="support.html" class="flex flex-col items-center p-2 text-gray-500">
                <i class="fas fa-headset mb-1"></i>
                <span class="text-xs">‡¶∏‡¶æ‡¶™‡ßã‡¶∞‡ßç‡¶ü</span>
            </a>
            <a href="profile.html" class="flex flex-col items-center p-2 text-gray-500">
                <i class="fas fa-user mb-1"></i>
                <span class="text-xs">‡¶™‡ßç‡¶∞‡ßã‡¶´‡¶æ‡¶á‡¶≤</span>
            </a>
        </div>
    </div>

    <!-- External JS Files -->
    <script src="app-supabase.js"></script>

    <script>
        // Promotional Banner Functions
        function showPromoBanner() {
            // No storage check - always show on page load
            const banner = document.getElementById('promoBanner');
            if (banner) {
                // Remove any timeout that might automatically close it
                if (window.promoTimeout) {
                    clearTimeout(window.promoTimeout);
                    window.promoTimeout = null;
                }
                
                setTimeout(() => {
                    banner.style.display = 'flex';
                    banner.classList.add('modal-enter');
                    startPromoTimer();
                    
                    // Add pulse animation
                    const bannerCard = banner.querySelector('.bg-gradient-to-br');
                    if (bannerCard) {
                        setTimeout(() => {
                            bannerCard.style.animation = 'pulse 2s infinite';
                        }, 1000);
                    }
                }, 800);
            }
        }

        function closePromoBanner() {
            const banner = document.getElementById('promoBanner');
            if (banner) {
                banner.style.display = 'none';
                // No storage saving - will show again on next page load
            }
        }

        function goToReferralSection() {
            closePromoBanner();
            
            setTimeout(() => {
                const referralSection = document.getElementById('referral-section');
                if (referralSection) {
                    referralSection.scrollIntoView({ 
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
                
                showOfferPopup();
            }, 300);
        }

        function showOfferPopup() {
            const message = `üéØ **‡¶∏‡ßç‡¶™‡ßá‡¶∂‡¶æ‡¶≤ ‡¶Ö‡¶´‡¶æ‡¶∞ - ‡¶°‡¶æ‡¶¨‡¶≤ ‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü!**\n\n` +
                           `üìå **‡¶Ö‡¶´‡¶æ‡¶∞ ‡¶¨‡¶ø‡¶¨‡¶∞‡¶£:**\n` +
                           `‚Ä¢ **‡ß®‡ß¶‡ß¶‡¶ü‡¶ø ‡¶∞‡ßá‡¶´‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®**\n` +
                           `‚Ä¢ ‡¶Ø‡ßá‡¶ï‡ßã‡¶®‡ßã ‡¶™‡¶∞‡¶ø‡¶Æ‡¶æ‡¶£ ‡¶â‡¶á‡¶•‡¶°‡ßç‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®\n` +
                           `‚Ä¢ ‡¶™‡¶æ‡¶¨‡ßá‡¶® ‡¶°‡¶æ‡¶¨‡¶≤ ‡¶ü‡¶æ‡¶ï‡¶æ!\n\n` +
                           `üí∞ **‡¶â‡¶¶‡¶æ‡¶π‡¶∞‡¶£:**\n` +
                           `‚Ä¢ ‡ß´‡ß¶‡ß¶ ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶â‡¶á‡¶•‡¶°‡ßç‡¶∞ = ‡ßß‡ß¶‡ß¶‡ß¶ ‡¶ü‡¶æ‡¶ï‡¶æ\n` +
                           `‚Ä¢ ‡ßß‡ß¶‡ß¶‡ß¶ ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶â‡¶á‡¶•‡¶°‡ßç‡¶∞ = ‡ß®‡ß¶‡ß¶‡ß¶ ‡¶ü‡¶æ‡¶ï‡¶æ\n\n` +
                           `üìã **‡¶∂‡¶∞‡ßç‡¶§‡¶æ‡¶¨‡¶≤‡ßÄ:**\n` +
                           `‚Ä¢ ‡¶®‡ßç‡¶Ø‡ßÇ‡¶®‡¶§‡¶Æ **‡ß®‡ß¶‡ß¶ ‡¶∞‡ßá‡¶´‡¶æ‡¶∞**\n` +
                           `‚Ä¢ **‡ß®‡ß¶ ‡¶°‡¶ø‡¶∏‡ßá‡¶Æ‡ßç‡¶¨‡¶∞** ‡¶™‡¶∞‡ßç‡¶Ø‡¶®‡ßç‡¶§ ‡¶â‡¶á‡¶•‡¶°‡ßç‡¶∞ ‡¶∞‡¶ø‡¶ï‡ßã‡ßü‡ßá‡¶∏‡ßç‡¶ü\n` +
                           `‚Ä¢ ‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡ß®‡ß™ ‡¶ò‡¶®‡ßç‡¶ü‡¶æ‡¶∞ ‡¶Æ‡¶ß‡ßç‡¶Ø‡ßá\n\n` +
                           `‚è∞ **‡¶Ö‡¶´‡¶æ‡¶∞ ‡¶∂‡ßá‡¶∑:** **‡ß®‡ß¶ ‡¶°‡¶ø‡¶∏‡ßá‡¶Æ‡ßç‡¶¨‡¶∞**`;
            
            if (window.Telegram && Telegram.WebApp) {
                Telegram.WebApp.showPopup({
                    title: "üéÅ ‡¶°‡¶æ‡¶¨‡¶≤ ‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶Ö‡¶´‡¶æ‡¶∞",
                    message: message,
                    buttons: [{ type: 'close' }]
                });
            } else {
                alert(message);
            }
        }

        function startPromoTimer() {
            const targetDate = new Date('2024-12-20T23:59:59');
            
            const timerElement = document.getElementById('promoTimer');
            if (!timerElement) return;
            
            const updateTimer = () => {
                const now = new Date();
                const diff = targetDate - now;
                
                if (diff <= 0) {
                    timerElement.textContent = "‡¶Ö‡¶´‡¶æ‡¶∞ ‡¶∂‡ßá‡¶∑!";
                    return;
                }
                
                const days = Math.floor(diff / (1000 * 60 * 60 * 24));
                const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
                const seconds = Math.floor((diff % (1000 * 60)) / 1000);
                
                if (days > 0) {
                    timerElement.textContent = `${days} ‡¶¶‡¶ø‡¶® ${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                } else {
                    timerElement.textContent = `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                    timerElement.style.color = '#FFEB3B';
                    timerElement.style.fontWeight = 'bold';
                }
            };
            
            updateTimer();
            const timerInterval = setInterval(updateTimer, 1000);
        }

        function watchVideo() {
            const videoLink = "https://youtu.be/XLXw5o1uU3E?si=HmuoguPxrQY4PmkH";
            window.open(videoLink, '_blank');
            showNotification("‡¶≠‡¶ø‡¶°‡¶ø‡¶ì‡¶ü‡¶ø ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶® ‡¶è‡¶¨‡¶Ç ‡¶ï‡¶æ‡¶ú‡ßá‡¶∞ ‡¶®‡¶ø‡ßü‡¶Æ ‡¶∂‡¶ø‡¶ñ‡ßÅ‡¶®!", "info");
        }

        function showNotification(message, type = 'info') {
            if (window.Telegram && Telegram.WebApp) {
                Telegram.WebApp.showPopup({
                    title: type === 'success' ? '‡¶∏‡¶´‡¶≤!' : '‡¶Æ‡ßá‡¶∏‡ßá‡¶ú',
                    message: message,
                    buttons: [{ type: 'close' }]
                });
            } else {
                alert(message);
            }
        }

        function hideLoading() {
            const overlay = document.getElementById('loadingOverlay');
            if (overlay) overlay.style.display = 'none';
        }

        // Initialize when page loads
        document.addEventListener('DOMContentLoaded', function() {
            setTimeout(showPromoBanner, 500);
            setTimeout(hideLoading, 800);
            
            // Add click event to prevent auto-close when clicking on banner content
            const banner = document.getElementById('promoBanner');
            if (banner) {
                banner.addEventListener('click', function(e) {
                    // Prevent closing when clicking inside the banner content
                    e.stopPropagation();
                });
                
                // Only close when clicking on the overlay background
                banner.addEventListener('click', function(e) {
                    if (e.target === banner) {
                        // Optional: You can choose to close when clicking overlay
                        // closePromoBanner();
                    }
                }, true);
            }
        });
    </script>
</body>
</html>