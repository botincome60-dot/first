<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡¶∏‡¶π‡¶ú ‡¶á‡¶®‡¶ï‡¶æ‡¶Æ - ‡¶ü‡¶æ‡¶∏‡ßç‡¶ï</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <style>
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: white;
            box-shadow: 0 -2px 10px rgba(0,0,0,0.1);
        }
        .task-completed {
            background: #f0f9ff !important;
            border-color: #bae6fd !important;
        }
        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body class="bg-gray-50 pb-16">
    <!-- Loading Overlay -->
    <div id="loadingOverlay" class="fixed inset-0 bg-white z-50 flex items-center justify-center">
        <div class="text-center">
            <div class="w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"></div>
            <p class="text-gray-600">‡¶≤‡ßã‡¶° ‡¶π‡¶ö‡ßç‡¶õ‡ßá...</p>
        </div>
    </div>

    <div class="container mx-auto px-4 py-4 fade-in">
        <!-- ‡¶π‡ßá‡¶°‡¶æ‡¶∞ -->
        <div class="bg-gradient-to-r from-blue-600 to-purple-600 rounded-2xl p-4 text-white mb-4">
            <div class="flex items-center justify-between">
                <div>
                    <h2 class="font-bold text-lg">‡¶ü‡¶æ‡¶∏‡ßç‡¶ï ‡¶ï‡¶∞‡ßÅ‡¶®</h2>
                    <p class="text-white/80 text-sm">‡¶Ü‡ßü ‡¶ï‡¶∞‡ßÅ‡¶® ‡¶∏‡¶π‡¶ú ‡¶ü‡¶æ‡¶∏‡ßç‡¶ï ‡¶ï‡¶∞‡ßá</p>
                </div>
                <i class="fas fa-tasks text-2xl"></i>
            </div>
        </div>

        <!-- ‡¶ì‡ßü‡¶æ‡¶ö ‡¶è‡¶° ‡¶∏‡ßá‡¶ï‡¶∂‡¶® -->
        <div class="bg-white rounded-xl p-4 shadow-sm mb-4">
            <div class="flex items-center justify-between mb-3">
                <h3 class="font-bold text-lg">‡¶è‡¶° ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®</h3>
                <span class="bg-blue-100 text-blue-700 px-2 py-1 rounded text-sm font-semibold">
                    <span id="adsRemaining">‡ß¶</span>/‡ßß‡ß¶ ‡¶è‡¶° ‡¶¨‡¶æ‡¶ï‡¶ø
                </span>
            </div>
            
            <div class="bg-blue-50 border border-blue-200 rounded-xl p-4 mb-3">
                <div class="text-center mb-3">
                    <i class="fas fa-play-circle text-blue-500 text-4xl mb-2"></i>
                    <h4 class="font-bold text-lg">‡¶∞‡¶ø‡¶ì‡ßü‡¶æ‡¶∞‡ßç‡¶°‡ßá‡¶° ‡¶è‡¶°</h4>
                    <p class="text-gray-600">‡¶™‡ßç‡¶∞‡¶§‡¶ø ‡¶è‡¶° ‡¶¶‡ßá‡¶ñ‡ßá ‡¶™‡¶æ‡¶¨‡ßá‡¶® ‡ß©‡ß¶.‡ß¶‡ß¶ ‡¶ü‡¶æ‡¶ï‡¶æ</p>
                </div>
                
                <a href="watch-ads.html" class="w-full bg-gradient-to-r from-blue-500 to-blue-600 text-white py-3 rounded-lg font-bold text-center block hover:from-blue-600 hover:to-blue-700 transition-colors">
                    ‡¶è‡¶° ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®
                </a>
            </div>
            
            <p class="text-gray-500 text-sm text-center">
                ‡¶™‡ßç‡¶∞‡¶§‡¶ø ‡¶ò‡¶®‡ßç‡¶ü‡¶æ‡ßü ‡ßß‡ß¶‡¶ü‡¶ø ‡¶è‡¶° ‡¶¶‡ßá‡¶ñ‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶¨‡ßá‡¶®
            </p>
        </div>

        <!-- ‡¶¨‡ßã‡¶®‡¶æ‡¶∏ ‡¶ü‡¶æ‡¶∏‡ßç‡¶ï‡¶∏ -->
        <div class="bg-white rounded-xl p-4 shadow-sm">
            <h3 class="font-bold text-lg mb-3">‡¶¨‡ßã‡¶®‡¶æ‡¶∏ ‡¶ü‡¶æ‡¶∏‡ßç‡¶ï‡¶∏</h3>
            <div class="space-y-3">

                <!-- ‡¶®‡¶§‡ßÅ‡¶® ‡¶¨‡¶æ‡¶°‡¶æ‡¶ì ‡¶è‡¶° ‡¶ü‡¶æ‡¶∏‡ßç‡¶ï -->
                <div class="border border-gray-200 rounded-xl p-3">
                    <div class="flex items-center justify-between mb-2">
                        <div>
                            <h4 class="font-semibold">‡¶™‡ßç‡¶∞‡¶ø‡¶Æ‡¶ø‡ßü‡¶æ‡¶Æ ‡¶è‡¶° ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®</h4>
                            <p class="text-green-600 text-sm font-semibold">‡ß≠ ‡¶ü‡¶æ‡¶ï‡¶æ/‡¶è‡¶°</p>
                        </div>
                        <div class="relative">
                            <i class="fas fa-bolt text-yellow-500 text-xl"></i>
                            <span class="absolute -top-2 -right-2 bg-red-500 text-white text-xs px-1 rounded-full">NEW</span>
                        </div>
                    </div>
                    <div class="flex items-center justify-between mb-3">
                        <span class="text-xs text-gray-500">‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶¶‡¶ø‡¶® ‡ß´‡ß¶‡¶ü‡¶ø ‡¶è‡¶°</span>
                        <span class="text-xs font-medium text-green-600" id="badDaoTodayAds">‡ß¶/‡ß´‡ß¶</span>
                    </div>
                    <a href="bad-dao-ads.html" class="w-full bg-gradient-to-r from-yellow-500 to-orange-500 text-white py-2 rounded-lg font-semibold text-center block hover:from-yellow-600 hover:to-orange-600 transition-colors">
                        <i class="fas fa-bolt mr-2"></i>
                        ‡¶™‡ßç‡¶∞‡¶ø‡¶Æ‡¶ø‡ßü‡¶æ‡¶Æ ‡¶è‡¶° ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®
                    </a>
                </div>
                
                

                <!-- ‡¶ü‡¶æ‡¶∏‡ßç‡¶ï ‡ßß - Telegram Channel -->
                <div class="border border-gray-200 rounded-xl p-3" id="telegramTask">
                    <div class="flex items-center justify-between mb-2">
                        <div>
                            <h4 class="font-semibold">‡¶ü‡ßá‡¶≤‡¶ø‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ ‡¶ö‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶≤ ‡¶ú‡ßü‡ßá‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®</h4>
                            <p class="text-green-600 text-sm font-semibold">‡ß´‡ß¶ ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶¨‡ßã‡¶®‡¶æ‡¶∏</p>
                        </div>
                        <i class="fas fa-telegram text-blue-400 text-xl"></i>
                    </div>
                    <button onclick="completeTelegramTask()" id="telegramBtn" class="w-full bg-green-500 text-white py-2 rounded-lg font-semibold hover:bg-green-600 transition-colors">
                        ‡¶ï‡ßç‡¶≤‡ßá‡¶á‡¶Æ ‡¶ï‡¶∞‡ßÅ‡¶®
                    </button>
                </div>
                
                <!-- ‡¶ü‡¶æ‡¶∏‡ßç‡¶ï ‡ß® - YouTube Channel -->
                <div class="border border-gray-200 rounded-xl p-3" id="youtubeTask">
                    <div class="flex items-center justify-between mb-2">
                        <div>
                            <h4 class="font-semibold">‡¶á‡¶â‡¶ü‡¶ø‡¶â‡¶¨ ‡¶ö‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶≤ ‡¶∏‡¶æ‡¶¨‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶æ‡¶á‡¶¨</h4>
                            <p class="text-green-600 text-sm font-semibold">‡ß´‡ß¶ ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶¨‡ßã‡¶®‡¶æ‡¶∏</p>
                        </div>
                        <i class="fab fa-youtube text-red-500 text-xl"></i>
                    </div>
                    <button onclick="completeYoutubeTask()" id="youtubeBtn" class="w-full bg-green-500 text-white py-2 rounded-lg font-semibold hover:bg-green-600 transition-colors">
                        ‡¶ï‡ßç‡¶≤‡ßá‡¶á‡¶Æ ‡¶ï‡¶∞‡ßÅ‡¶®
                    </button>
                </div>
                <!-- ‡¶®‡¶§‡ßÅ‡¶®: PixelForge YouTube ‡¶ö‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶≤ ‡¶∏‡¶æ‡¶¨‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶æ‡¶á‡¶¨ ‡¶ü‡¶æ‡¶∏‡ßç‡¶ï -->
                <!-- <div class="border border-gray-200 rounded-xl p-3" id="pixelForgeTask">
                    <div class="flex items-center justify-between mb-2">
                        <div>
                            <h4 class="font-semibold">PixelForge YouTube ‡¶ö‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶≤ ‡¶∏‡¶æ‡¶¨‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶æ‡¶á‡¶¨ ‡¶ï‡¶∞‡ßÅ‡¶®</h4>
                            <p class="text-green-600 text-sm font-semibold">‡ß´‡ß¶ ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶¨‡ßã‡¶®‡¶æ‡¶∏</p>
                        </div>
                        <i class="fab fa-youtube text-red-500 text-xl"></i>
                    </div>
                    <button onclick="completePixelForgeTask()" id="pixelForgeBtn" class="w-full bg-red-500 text-white py-2 rounded-lg font-semibold hover:bg-red-600 transition-colors">
                        ‡¶ï‡ßç‡¶≤‡ßá‡¶á‡¶Æ ‡¶ï‡¶∞‡ßÅ‡¶®
                    </button>
                </div> -->
                <!-- ‡¶®‡¶§‡ßÅ‡¶® ‡¶∏‡ßç‡¶™‡ßá‡¶∂‡¶æ‡¶≤ ‡¶ü‡¶æ‡¶∏‡ßç‡¶ï -->
                <div class="border border-gray-200 rounded-xl p-3">
                    <div class="flex items-center justify-between mb-2">
                        <div>
                            <h4 class="font-semibold">‡¶∏‡ßç‡¶™‡ßá‡¶∂‡¶æ‡¶≤ ‡¶è‡¶° ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®</h4>
                            <p class="text-green-600 text-sm font-semibold">‡ßß‡ß´ ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶¨‡ßã‡¶®‡¶æ‡¶∏/‡¶è‡¶°</p>
                        </div>
                        <i class="fas fa-crown text-red-500 text-xl"></i>
                    </div>
                    <button onclick="showSpecialAd()" id="specialAdBtn" class="w-full bg-gradient-to-r from-red-500 to-pink-500 text-white py-2 rounded-lg font-semibold hover:from-red-600 hover:to-pink-600 transition-colors">
                        ‡¶∏‡ßç‡¶™‡ßá‡¶∂‡¶æ‡¶≤ ‡¶è‡¶° ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®
                    </button>
                </div>

                <!-- ‡¶®‡¶§‡ßÅ‡¶® ‡¶¨‡ßã‡¶®‡¶æ‡¶∏ ‡¶è‡¶° ‡¶ü‡¶æ‡¶∏‡ßç‡¶ï -->
                <div class="border border-gray-200 rounded-xl p-3">
                    <div class="flex items-center justify-between mb-2">
                        <div>
                            <h4 class="font-semibold">‡¶¨‡ßã‡¶®‡¶æ‡¶∏ ‡¶è‡¶° ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®</h4>
                            <p class="text-green-600 text-sm font-semibold">‡ßß‡ß¶ ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶¨‡ßã‡¶®‡¶æ‡¶∏/‡¶è‡¶°</p>
                        </div>
                        <i class="fas fa-star text-yellow-500 text-xl"></i>
                    </div>
                    <a href="bonus-ads.html" class="w-full bg-gradient-to-r from-yellow-500 to-orange-500 text-white py-2 rounded-lg font-semibold text-center block hover:from-yellow-600 hover:to-orange-600 transition-colors">
                        ‡¶¨‡ßã‡¶®‡¶æ‡¶∏ ‡¶è‡¶° ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®
                    </a>
                </div>

                <!-- ‡¶®‡¶§‡ßÅ‡¶® ‡¶¨‡ßã‡¶®‡¶æ‡¶∏ ‡¶è‡¶° ‡ß® ‡¶ü‡¶æ‡¶∏‡ßç‡¶ï -->
                <div class="border border-gray-200 rounded-xl p-3">
                    <div class="flex items-center justify-between mb-2">
                        <div>
                            <h4 class="font-semibold">‡¶¨‡ßã‡¶®‡¶æ‡¶∏ ‡¶è‡¶° ‡ß® ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®</h4>
                            <p class="text-green-600 text-sm font-semibold">‡ßß‡ß¶ ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶¨‡ßã‡¶®‡¶æ‡¶∏/‡¶è‡¶°</p>
                        </div>
                        <i class="fas fa-gem text-purple-500 text-xl"></i>
                    </div>
                    <a href="bonus-ads-2.html" class="w-full bg-gradient-to-r from-purple-500 to-pink-500 text-white py-2 rounded-lg font-semibold text-center block hover:from-purple-600 hover:to-pink-600 transition-colors">
                        ‡¶¨‡ßã‡¶®‡¶æ‡¶∏ ‡¶è‡¶° ‡ß® ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®
                    </a>
                </div>  
                
                <!-- ‡¶ü‡¶æ‡¶∏‡ßç‡¶ï ‡ß© - Video Task -->
                <div class="border border-gray-200 rounded-xl p-3" id="videoTask">
                    <div class="flex items-center justify-between mb-2">
                        <div>
                            <h4 class="font-semibold">‡¶ï‡¶æ‡¶ú‡ßá‡¶∞ ‡¶≠‡¶ø‡¶°‡¶ø‡¶ì ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®</h4>
                            <p class="text-gray-600 text-sm">‡¶ï‡¶æ‡¶ú‡ßá‡¶∞ ‡¶®‡¶ø‡ßü‡¶Æ ‡¶∂‡¶ø‡¶ñ‡ßÅ‡¶®</p>
                        </div>
                        <i class="fas fa-video text-purple-500 text-xl"></i>
                    </div>
                    <button onclick="watchVideo()" id="videoBtn" class="w-full bg-blue-500 text-white py-2 rounded-lg font-semibold hover:bg-blue-600 transition-colors">
                        ‡¶ï‡¶æ‡¶ú‡ßá‡¶∞ ‡¶≠‡¶ø‡¶°‡¶ø‡¶ì ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- ‡¶¨‡¶ü‡¶Æ ‡¶®‡ßá‡¶≠‡¶ø‡¶ó‡ßá‡¶∂‡¶® -->
    <div class="bottom-nav">
        <div class="grid grid-cols-4 gap-1 p-2">
            <a href="index.html" class="flex flex-col items-center p-2 text-gray-500">
                <i class="fas fa-home mb-1"></i>
                <span class="text-xs">‡¶π‡ßã‡¶Æ</span>
            </a>
            <a href="tasks.html" class="flex flex-col items-center p-2 text-blue-600">
                <i class="fas fa-tasks mb-1"></i>
                <span class="text-xs">‡¶ü‡¶æ‡¶∏‡ßç‡¶ï</span>
            </a>
            <a href="support.html" class="flex flex-col items-center p-2 text-gray-500">
                <i class="fas fa-headset mb-1"></i>
                <span class="text-xs">‡¶∏‡¶æ‡¶™‡ßã‡¶∞‡ßç‡¶ü</span>
            </a>
            <a href="profile.html" class="flex flex-col items-center p-2 text-gray-500">
                <i class="fas fa-user mb-1"></i>
                <span class="text-xs">‡¶™‡ßç‡¶∞‡ßã‡¶´‡¶æ‡¶á‡¶≤</span>
            </a>
        </div>
    </div>

    <!-- Firebase SDK -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="app-supabase.js"></script>

    <script>
        // ‡¶ü‡¶æ‡¶∏‡ßç‡¶ï ‡¶∏‡ßç‡¶ü‡ßá‡¶ü ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶ú‡¶Æ‡ßá‡¶®‡ßç‡¶ü
        const TASK_STATES = {
            telegram: false,
            youtube: false,
            pixelForge: false // ‡¶®‡¶§‡ßÅ‡¶® ‡¶ü‡¶æ‡¶∏‡ßç‡¶ï ‡¶∏‡ßç‡¶ü‡ßá‡¶ü
        };

        function initTasksPage() {
            const user = getUserData();
            if (user) {
                const remaining = 10 - user.today_ads;
                document.getElementById('adsRemaining').textContent = remaining > 0 ? remaining : 0;
                
                // Load Bad Dao Ads count
                loadBadDaoTaskCount();
            }

            // ‡¶≤‡ßã‡¶° ‡¶ü‡¶æ‡¶∏‡ßç‡¶ï ‡¶∏‡ßç‡¶ü‡ßá‡¶ü‡¶∏
            loadTaskStates();
            updateTaskButtons();
            hideLoading();
        }

        // Load Bad Dao Task count
        function loadBadDaoTaskCount() {
            const today = new Date().toDateString();
            const savedDate = localStorage.getItem('badDaoLastDate');
            const savedAds = localStorage.getItem('badDaoTodayAds');
            
            let todayAds = 0;
            
            if (savedDate === today) {
                todayAds = parseInt(savedAds) || 0;
            }
            
            document.getElementById('badDaoTodayAds').textContent = `${todayAds}/‡ß´‡ß¶`;
        }

        function loadTaskStates() {
            const savedStates = localStorage.getItem('taskStates');
            if (savedStates) {
                const parsedStates = JSON.parse(savedStates);
                
                Object.assign(TASK_STATES, {
                    telegram: parsedStates.telegram || false,
                    youtube: parsedStates.youtube || false,
                    pixelForge: parsedStates.pixelForge || false // ‡¶®‡¶§‡ßÅ‡¶® ‡¶ü‡¶æ‡¶∏‡ßç‡¶ï ‡¶∏‡ßç‡¶ü‡ßá‡¶ü
                });
            }
        }

        function saveTaskStates() {
            localStorage.setItem('taskStates', JSON.stringify(TASK_STATES));
        }

        function updateTaskButtons() {
            // Telegram Task
            if (TASK_STATES.telegram) {
                document.getElementById('telegramBtn').innerHTML = '‚úÖ ‡¶ï‡ßç‡¶≤‡ßá‡¶á‡¶Æ‡¶°';
                document.getElementById('telegramBtn').classList.remove('bg-green-500', 'hover:bg-green-600');
                document.getElementById('telegramBtn').classList.add('bg-gray-400', 'cursor-not-allowed');
                document.getElementById('telegramBtn').disabled = true;
                document.getElementById('telegramTask').classList.add('task-completed');
            }

            // YouTube Task
            if (TASK_STATES.youtube) {
                document.getElementById('youtubeBtn').innerHTML = '‚úÖ ‡¶ï‡ßç‡¶≤‡ßá‡¶á‡¶Æ‡¶°';
                document.getElementById('youtubeBtn').classList.remove('bg-green-500', 'hover:bg-green-600');
                document.getElementById('youtubeBtn').classList.add('bg-gray-400', 'cursor-not-allowed');
                document.getElementById('youtubeBtn').disabled = true;
                document.getElementById('youtubeTask').classList.add('task-completed');
            }

            // NEW: PixelForge YouTube Task
            if (TASK_STATES.pixelForge) {
                document.getElementById('pixelForgeBtn').innerHTML = '‚úÖ ‡¶ï‡ßç‡¶≤‡ßá‡¶á‡¶Æ‡¶°';
                document.getElementById('pixelForgeBtn').classList.remove('bg-red-500', 'hover:bg-red-600');
                document.getElementById('pixelForgeBtn').classList.add('bg-gray-400', 'cursor-not-allowed');
                document.getElementById('pixelForgeBtn').disabled = true;
                document.getElementById('pixelForgeTask').classList.add('task-completed');
            }

            // Video Task - Always enabled
            document.getElementById('videoBtn').innerHTML = '‡¶ï‡¶æ‡¶ú‡ßá‡¶∞ ‡¶≠‡¶ø‡¶°‡¶ø‡¶ì ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®';
            document.getElementById('videoBtn').classList.remove('bg-gray-400', 'cursor-not-allowed');
            document.getElementById('videoBtn').classList.add('bg-blue-500', 'hover:bg-blue-600');
            document.getElementById('videoBtn').disabled = false;
            document.getElementById('videoTask').classList.remove('task-completed');
        }

        // NEW: PixelForge YouTube ‡¶ö‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶≤ ‡¶∏‡¶æ‡¶¨‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶æ‡¶á‡¶¨ ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®
        function completePixelForgeTask() {
            if (TASK_STATES.pixelForge) {
                showNotification('‡¶Ü‡¶™‡¶®‡¶ø ‡¶á‡¶§‡¶ø‡¶Æ‡¶ß‡ßç‡¶Ø‡ßá ‡¶è‡¶á ‡¶ü‡¶æ‡¶∏‡ßç‡¶ï‡¶ü‡¶ø ‡¶ï‡¶Æ‡¶™‡ßç‡¶≤‡¶ø‡¶ü ‡¶ï‡¶∞‡ßá‡¶õ‡ßá‡¶®!', 'info');
                return;
            }

            const pixelForgeLink = "https://youtube.com/@pixelforge-v9e?si=7kKTPJFXQrRa1eS9";
            
            // YouTube ‡¶ö‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶≤ ‡¶≤‡¶ø‡¶ô‡ßç‡¶ï ‡¶ì‡¶™‡ßá‡¶® ‡¶ï‡¶∞‡ßã
            window.open(pixelForgeLink, '_blank');
            
            // ‡¶ü‡¶æ‡¶∏‡ßç‡¶ï ‡¶∏‡ßç‡¶ü‡ßá‡¶ü ‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶ï‡¶∞‡ßã
            TASK_STATES.pixelForge = true;
            saveTaskStates();
            updateTaskButtons();
            
            // ‡ß´‡ß¶ ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶¨‡ßã‡¶®‡¶æ‡¶∏ ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßã
            addTaskBonus(50, "PixelForge YouTube ‡¶ö‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶≤ ‡¶∏‡¶æ‡¶¨‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶æ‡¶á‡¶¨");
            
            // ‡¶∏‡¶´‡¶≤‡¶§‡¶æ ‡¶Æ‡ßá‡¶∏‡ßá‡¶ú ‡¶¶‡ßá‡¶ñ‡¶æ‡¶ì
            showNotification(
                "üéâ PixelForge YouTube ‡¶ö‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶≤‡ßá ‡¶∏‡¶æ‡¶¨‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶æ‡¶á‡¶¨ ‡¶ï‡¶∞‡ßÅ‡¶® ‡¶è‡¶¨‡¶Ç ‡ß´‡ß¶ ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶¨‡ßã‡¶®‡¶æ‡¶∏ ‡¶™‡¶æ‡¶®!\n\n" +
                "‚úÖ ‡¶∏‡¶æ‡¶¨‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶æ‡¶á‡¶¨ ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶™‡¶∞ ‡¶¨‡¶æ‡¶ü‡¶®‡ßá ‡¶ï‡ßç‡¶≤‡¶ø‡¶ï ‡¶ï‡¶∞‡ßÅ‡¶®\n" +
                "üí∞ ‡ß´‡ß¶ ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶¨‡ßã‡¶®‡¶æ‡¶∏ ‡¶Ö‡¶ü‡ßã‡¶Æ‡ßá‡¶ü‡¶ø‡¶ï ‡¶Ø‡ßã‡¶ó ‡¶π‡¶¨‡ßá",
                "success"
            );
        }

        // ‡¶∏‡ßç‡¶™‡ßá‡¶∂‡¶æ‡¶≤ ‡¶è‡¶° ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®
        async function showSpecialAd() {
            const user = getUserData();
            if (!user) {
                alert('‡¶°‡ßá‡¶ü‡¶æ ‡¶≤‡ßã‡¶° ‡¶π‡ßü‡¶®‡¶ø‡•§ ‡¶∞‡¶ø‡¶´‡ßç‡¶∞‡ßá‡¶∂ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§');
                return;
            }

            const specialAdBtn = document.getElementById('specialAdBtn');
            specialAdBtn.innerHTML = '<i class="fas fa-spinner fa-spin mr-2"></i>‡¶è‡¶° ‡¶≤‡ßã‡¶° ‡¶π‡¶ö‡ßç‡¶õ‡ßá...';
            specialAdBtn.disabled = true;
            specialAdBtn.classList.remove('hover:from-red-600', 'hover:to-pink-600');

            try {
                // Random ad links array
                const adLinks = [
                    "https://medievalkin.com/q3gtdwtif0?key=8fab9c833a59630b50874801fba88f73",
                    "https://medievalkin.com/wzvdzr4ka?key=7a422407e8fedbc108da1c1da906f0a9",
                    "https://adexora.my.id/dl/uDjmlB4uoO",
                    "https://otieu.com/4/9809044",
                    "https://otieu.com/4/10095617",
                    "https://otieu.com/4/9345167",
                    "https://otieu.com/4/9569635",
                    "https://otieu.com/4/10155431"
                ];
                
                // Select random link
                const randomIndex = Math.floor(Math.random() * adLinks.length);
                const randomAdLink = adLinks[randomIndex];
                
                // Create a new tab with the ad link
                const adTab = window.open(randomAdLink, '_blank');
                
                if (adTab) {
                    // Add timer to close ad tab after 10 seconds
                    setTimeout(async () => {
                        try {
                            // Close the ad tab
                            adTab.close();
                            
                            // Add reward
                            await addSpecialTaskBonus(15, "‡¶∏‡ßç‡¶™‡ßá‡¶∂‡¶æ‡¶≤ ‡¶è‡¶°");
                            
                            // Update button to show success
                            specialAdBtn.innerHTML = '<i class="fas fa-check mr-2"></i>‡¶∏‡¶´‡¶≤! ‡ßß‡ß´ ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶Ø‡ßã‡¶ó ‡¶π‡ßü‡ßá‡¶õ‡ßá';
                            specialAdBtn.classList.remove('bg-gradient-to-r', 'from-red-500', 'to-pink-500');
                            specialAdBtn.classList.add('bg-green-500');
                            
                            showNotification('üéâ ‡¶∏‡ßç‡¶™‡ßá‡¶∂‡¶æ‡¶≤ ‡¶è‡¶° ‡¶¶‡ßá‡¶ñ‡¶æ ‡¶∏‡¶Æ‡ßç‡¶™‡¶®‡ßç‡¶®! ‡ßß‡ß¶ ‡¶∏‡ßá‡¶ï‡ßá‡¶®‡ßç‡¶° ‡¶è‡¶° ‡¶¶‡ßá‡¶ñ‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶ß‡¶®‡ßç‡¶Ø‡¶¨‡¶æ‡¶¶‡•§ ‡ßß‡ß´ ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶è‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü‡ßá ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá‡•§', 'success');
                            
                            // Reset button after 3 seconds
                            setTimeout(() => {
                                specialAdBtn.innerHTML = '‡¶∏‡ßç‡¶™‡ßá‡¶∂‡¶æ‡¶≤ ‡¶è‡¶° ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®';
                                specialAdBtn.classList.remove('bg-green-500');
                                specialAdBtn.classList.add('bg-gradient-to-r', 'from-red-500', 'to-pink-500', 'hover:from-red-600', 'hover:to-pink-600');
                                specialAdBtn.disabled = false;
                            }, 3000);
                            
                        } catch (error) {
                            console.error('Error closing ad tab:', error);
                        }
                    }, 10000); // 10 seconds wait time
                    
                    // Show countdown notification
                    showNotification('‚è≥ ‡¶¶‡ßü‡¶æ ‡¶ï‡¶∞‡ßá ‡¶è‡¶° ‡¶™‡ßá‡¶ú‡ßá ‡ßß‡ß¶ ‡¶∏‡ßá‡¶ï‡ßá‡¶®‡ßç‡¶° ‡¶Ö‡¶™‡ßá‡¶ï‡ßç‡¶∑‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®... ‡¶è‡¶°‡¶ü‡¶ø ‡¶∏‡ßç‡¶¨‡ßü‡¶Ç‡¶ï‡ßç‡¶∞‡¶ø‡ßü‡¶≠‡¶æ‡¶¨‡ßá ‡¶¨‡¶®‡ßç‡¶ß ‡¶π‡¶¨‡ßá‡•§', 'info');
                    
                } else {
                    // If popup blocked
                    specialAdBtn.innerHTML = '‡¶∏‡ßç‡¶™‡ßá‡¶∂‡¶æ‡¶≤ ‡¶è‡¶° ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®';
                    specialAdBtn.classList.add('bg-gradient-to-r', 'from-red-500', 'to-pink-500', 'hover:from-red-600', 'hover:to-pink-600');
                    specialAdBtn.disabled = false;
                    showNotification('‡¶™‡¶™‡¶Ü‡¶™ ‡¶¨‡ßç‡¶≤‡¶ï ‡¶ï‡¶∞‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá! ‡¶¶‡ßü‡¶æ ‡¶ï‡¶∞‡ßá ‡¶™‡¶™‡¶Ü‡¶™ ‡¶Ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶® ‡¶è‡¶¨‡¶Ç ‡¶Ü‡¶¨‡¶æ‡¶∞ ‡¶ö‡ßá‡¶∑‡ßç‡¶ü‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§', 'error');
                }

            } catch (error) {
                console.error('Special ad error:', error);
                specialAdBtn.innerHTML = '‡¶∏‡ßç‡¶™‡ßá‡¶∂‡¶æ‡¶≤ ‡¶è‡¶° ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®';
                specialAdBtn.classList.add('bg-gradient-to-r', 'from-red-500', 'to-pink-500', 'hover:from-red-600', 'hover:to-pink-600');
                specialAdBtn.disabled = false;
                
                showNotification('‡¶è‡¶° ‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡¶§‡ßá ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá! ‡¶Ü‡¶¨‡¶æ‡¶∞ ‡¶ö‡ßá‡¶∑‡ßç‡¶ü‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§', 'error');
            }
        }

        async function addSpecialTaskBonus(amount, taskName) {
            const user = getUserData();
            if (user) {
                await updateUserData({ 
                    balance: user.balance + amount,
                    total_income: user.total_income + amount,
                    total_ads: user.total_ads + 1
                });
            }
        }

        function completeTelegramTask() {
            if (TASK_STATES.telegram) {
                showNotification('‡¶Ü‡¶™‡¶®‡¶ø ‡¶á‡¶§‡¶ø‡¶Æ‡¶ß‡ßç‡¶Ø‡ßá ‡¶è‡¶á ‡¶ü‡¶æ‡¶∏‡ßç‡¶ï‡¶ü‡¶ø ‡¶ï‡¶Æ‡¶™‡ßç‡¶≤‡¶ø‡¶ü ‡¶ï‡¶∞‡ßá‡¶õ‡ßá‡¶®!', 'info');
                return;
            }

            const telegramLink = "https://t.me/sohojincome629";
            
            window.open(telegramLink, '_blank');
            
            TASK_STATES.telegram = true;
            saveTaskStates();
            updateTaskButtons();
            
            addTaskBonus(50, "‡¶ü‡ßá‡¶≤‡¶ø‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ ‡¶ö‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶≤ ‡¶ú‡ßü‡ßá‡¶®");
            
            showNotification("‡¶ü‡ßá‡¶≤‡¶ø‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ ‡¶ö‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶≤‡ßá ‡¶ú‡ßü‡ßá‡¶® ‡¶ï‡¶∞‡ßÅ‡¶® ‡¶è‡¶¨‡¶Ç ‡ß´‡ß¶ ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶¨‡ßã‡¶®‡¶æ‡¶∏ ‡¶™‡¶æ‡¶®!", "info");
        }

        function completeYoutubeTask() {
            if (TASK_STATES.youtube) {
                showNotification('‡¶Ü‡¶™‡¶®‡¶ø ‡¶á‡¶§‡¶ø‡¶Æ‡¶ß‡ßç‡¶Ø‡ßá ‡¶è‡¶á ‡¶ü‡¶æ‡¶∏‡ßç‡¶ï‡¶ü‡¶ø ‡¶ï‡¶Æ‡¶™‡ßç‡¶≤‡¶ø‡¶ü ‡¶ï‡¶∞‡ßá‡¶õ‡ßá‡¶®!', 'info');
                return;
            }

            const youtubeLink = "https://www.youtube.com/@easyincome-x7u";
            
            window.open(youtubeLink, '_blank');
            
            TASK_STATES.youtube = true;
            saveTaskStates();
            updateTaskButtons();
            
            addTaskBonus(50, "‡¶á‡¶â‡¶ü‡¶ø‡¶â‡¶¨ ‡¶ö‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶≤ ‡¶∏‡¶æ‡¶¨‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶æ‡¶á‡¶¨");
            
            showNotification("‡¶á‡¶â‡¶ü‡¶ø‡¶â‡¶¨ ‡¶ö‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶≤ ‡¶∏‡¶æ‡¶¨‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶æ‡¶á‡¶¨ ‡¶ï‡¶∞‡ßÅ‡¶® ‡¶è‡¶¨‡¶Ç ‡ß´‡ß¶ ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶¨‡ßã‡¶®‡¶æ‡¶∏ ‡¶™‡¶æ‡¶®!", "info");
        }

        function watchVideo() {
            const videoLink = "https://youtu.be/XLXw5o1uU3E?si=HmuoguPxrQY4PmkH";
            window.open(videoLink, '_blank');
            showNotification("‡¶≠‡¶ø‡¶°‡¶ø‡¶ì‡¶ü‡¶ø ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶® ‡¶è‡¶¨‡¶Ç ‡¶ï‡¶æ‡¶ú‡ßá‡¶∞ ‡¶®‡¶ø‡ßü‡¶Æ ‡¶∂‡¶ø‡¶ñ‡ßÅ‡¶®!", "info");
        }

        async function addTaskBonus(amount, taskName) {
            const user = getUserData();
            if (user) {
                await updateUserData({ 
                    balance: user.balance + amount,
                    total_income: user.total_income + amount
                });
                
                setTimeout(() => {
                    showNotification(`‡¶∏‡¶´‡¶≤! ${amount} ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶¨‡ßã‡¶®‡¶æ‡¶∏ ‡¶Ø‡ßã‡¶ó ‡¶π‡ßü‡ßá‡¶õ‡ßá (${taskName})`, "success");
                }, 1000);
            }
        }

        function showNotification(message, type = 'info') {
            if (window.Telegram && Telegram.WebApp) {
                Telegram.WebApp.showPopup({
                    title: type === 'success' ? '‡¶∏‡¶´‡¶≤!' : '‡¶Æ‡ßá‡¶∏‡ßá‡¶ú',
                    message: message,
                    buttons: [{ type: 'close' }]
                });
            } else {
                alert(message);
            }
        }

        function hideLoading() {
            const overlay = document.getElementById('loadingOverlay');
            if (overlay) {
                overlay.style.display = 'none';
            }
        }

        document.addEventListener('DOMContentLoaded', function() {
            setTimeout(initTasksPage, 1000);
        });
    </script>
</body>
</html>